<UserControl
    x:Class="SkillChat.Client.Views.SendMessageControl"
    xmlns="https://github.com/avaloniaui"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:i="clr-namespace:Avalonia.Xaml.Interactivity;assembly=Avalonia.Xaml.Interactivity"
    xmlns:ia="clr-namespace:Avalonia.Xaml.Interactions.Core;assembly=Avalonia.Xaml.Interactions"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:svg="clr-namespace:Svg.Skia.Avalonia;assembly=Svg.Skia.Avalonia"
    xmlns:viewModel="clr-namespace:SkillChat.Client.ViewModel;assembly=SkillChat.Client.ViewModel"
    xmlns:views="clr-namespace:SkillChat.Client.Views"
    xmlns:utils="clr-namespace:SkillChat.Client.Utils"
    xmlns:interactivity="clr-namespace:Avalonia.Xaml.Interactivity;assembly=Avalonia.Xaml.Interactivity"
    xmlns:core="clr-namespace:Avalonia.Xaml.Interactions.Core;assembly=Avalonia.Xaml.Interactions"
    Name="sendMessageControl"
    d:DesignHeight="30"
    d:DesignWidth="800"
    mc:Ignorable="d">
  <UserControl.Resources>
    <utils:KeyConverter x:Key="keyConverter"/>
  </UserControl.Resources>


  <Grid ColumnDefinitions="Auto,*,Auto">
    <StackPanel Orientation="Horizontal" Grid.Column="0">
      <Button
         x:Name="OpenEmoji"
         Grid.Column="0"
         HorizontalAlignment="Left"
         VerticalAlignment="Bottom"
         Width="30"
         Height="30"
         Background="#C4C4C4"
         BorderThickness="0"
         Command = "{Binding OpenEmojiCommand}">
        <Image
            Name="buttonImageEmoji"
            Height="20" />
        <Button.Styles>
          <Style Selector="Button /template/ ContentPresenter">
            <Setter Property="CornerRadius" Value="2" />
          </Style>
          <Style Selector="Button:pointerover /template/ ContentPresenter">
            <Setter Property="Background" Value="#FFFFFF" />
            <Setter Property="BorderThickness" Value="1" />
            <Setter Property="BorderBrush" Value="#FF9133" />
          </Style>
          <Style Selector="Button Image#buttonImageEmoji">
            <Setter Property="Source">
              <Setter.Value>
                <svg:SvgImage Source="/Assets/smile.svg" />
              </Setter.Value>
            </Setter>
          </Style>
          <Style Selector="Button:pointerover Image#buttonImageEmoji">
            <Setter Property="Source">
              <Setter.Value>
                <svg:SvgImage Source="/Assets/smile_orange.svg" />
              </Setter.Value>
            </Setter>
          </Style>
          <Style Selector="Button:pressed Image#buttonImageEmoji">
            <Setter Property="Source">
              <Setter.Value>
                <svg:SvgImage Source="/Assets/smile.svg" />
              </Setter.Value>
            </Setter>
          </Style>
          <Style Selector="Button:pressed /template/ ContentPresenter">
            <Setter Property="Background" Value="#FF9133" />
          </Style>
        </Button.Styles>
      </Button>
   
      <Button 
          x:Name="attachButton"
          Margin="0 0 5 0"
          Command="{Binding AttachMenuCommand}" Classes="attachBtn Send-Btn">
        <Image Name="AttachImage"
             Width="20"
             Height="20"/>
      </Button>
    </StackPanel>
    <!--Текстовое поле ввода сообщения  -->
    <TextBox
      Name="InputMessageTB"
      Classes="SendMessageText"
      Grid.Column="1"
      Text="{Binding MessageText}">
      <TextBox.KeyBindings>
        <KeyBinding Command="{Binding SendCommand}" Gesture="{Binding Path=KeySendMessage,Converter={StaticResource keyConverter}}" />
      </TextBox.KeyBindings>
    </TextBox>
    <!--  Кнопка отправки сообщения  -->
    <Button
        x:Name="sendButton"
        Grid.Column="2"
        Classes="Send-Btn sendMsg"
        Command="{Binding SendCommand}" >
      <Image
          Name="buttonImage"
          Width="20"
          Height="20"/>

    </Button>
  </Grid>
</UserControl>
